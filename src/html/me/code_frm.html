<!DOCTYPE HTML>
<html class="tea-body-mask">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,aItemress=no">
    <title>title</title>
    <!-- 手淘移动端自适应方案 iPhone6下兼容aui 1rem=设计稿40px -->
    <!--<script type="text/javascript" src="../../script/flexible.js"></script>-->
    <!-- api样式 -->
    <link rel="stylesheet" type="text/css" href="../../css/api.css" />
    <!-- aui样式 -->
    <link rel="stylesheet" type="text/css" href="../../css/aui.css" />
    <link rel="stylesheet" type="text/css" href="../../css/aui-skin.css" />
    <!-- 小马哥通用样式 -->
    <link rel="stylesheet" type="text/css" href="../../css/tea.css" />
    <style type="text/css">

        /*如页面需要动态滚动到底部请去除height:100%*/
		#section {
            padding: 1rem .5rem;
		}
        #avatar {
            height: 3rem;
            width: 3rem;
            border-radius: 0.1rem;
        }
        #qr-code {
            margin:  0 auto;
            height: 14rem;
            width: 14rem;
        }
        section {
            /* position: absolute; margin: auto;
            left: 0; right: 0; top: 0; bottom: 0; */
            width: 15.0rem;
            height: auto;
            background-color: #FFF;
        }
    </style>
</head>
<body class="tea-body-mask" ontouchend="tea.closeFrame(event,'section')">
    <section id="section" class="tea-content-radius-10">
        <header class="aui-content">
            <ul class="aui-list aui-media-list aui-list-noborder">
                <li class="aui-list-item aui-list-item-middle">
                    <div class="aui-media-list-item-inner">
                        <div class="aui-list-item-media" style="width: 3.75rem;">
                            <img id="avatar" src="../../image/liulangnan.png" class="aui-list-img-sm">
                        </div>
                        <div id="nickname" class="aui-list-item-inner aui-text-left tea-text-title aui-font-size-18">
                            流浪男
                        </div>
                    </div>
                </li>
            </ul>
        </header>
        <img id="qr-code" src="" alt="">
        <footer class="aui-text-center">
            <p>用小马哥APP扫描二维码图案</p>
            <p>添加好友</p>
            <!-- <div class="aui-btn aui-btn-block aui-btn-info"></div> -->
        </footer>

    </section>
</body>

<script type="text/javascript" src="../../script/api.js" ></script>
<!-- 小马哥通用函数库 -->
<script type="text/javascript" src="../../script/tea.js"></script>
<!-- ajax相关 -->
<script type="text/javascript" src="../../script/conn.js"></script>
<!-- JavaScript模板引擎 -->
<script type="text/javascript" src="../../script/doT.min.js"></script>
<!-- HTML模板 -->
<script type="text/template" id="template"></script>

<script type="text/javascript">

/**********************************apiready**********************************/
apiready = function(){

    // 初始化DOM对象
    initDOM();

    // 初始化变量
    initVar();

    // 更新HTML
    initHTML();

    // 初始化监听
    initEventListener();

    // 初始化其他模块
    initModule();

    // ajax请求数据
    getData();

};

/**********************************声明全局变量**********************************/
// 声明DOM对象
var dom = {};

// 声明全局变量
var data = {}, values = {};

/**********************************初始化变量**********************************/
// 初始化DOM对象
function initDOM(){



};

// 初始化变量
function initVar(){



};

// 初始化HTML
function initHTML(){

    var avatar = $api.getStorage('img');
    $api.attr($api.byId('avatar'), 'src', avatar);
    var nickname = $api.getStorage('nickname');
    $api.byId('nickname').innerHTML = nickname;

}
/**********************************初始化监听**********************************/
function initEventListener(){



}

/**********************************初始化模块**********************************/
// 生成二维码
function initModule(){
    var FNScanner = api.require('FNScanner');
    var telphone = $api.getStorage('telphone');
	FNScanner.encodeImg({
	    content: 'adf:' + telphone,
	    saveImg: {
        path: 'fs://myqrcode.png',
        w: 560,
        h: 560
     }
	},function( ret, err ){
	    if(ret.status){
	        $api.attr($api.byId('qr-code'), 'src', ret.imgPath);
	    }else{
	        alert( JSON.stringify( err ) );
	    }
	});


}


/**********************************ajax请求数据**********************************/
function getData(){



}

/**********************************更新变量**********************************/
// 更新DOM对象
function updateDOM(){



}

// 更新变量
function updateVar(){



}

/**********************************更新HTML**********************************/
function updateHTML(){



}



/**********************************广播消息**********************************/
function sendEvent(){



}

/**********************************DOM响应**********************************/



/**********************************其他函数**********************************/


</script>
</html>
