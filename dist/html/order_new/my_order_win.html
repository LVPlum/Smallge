<!DOCTYPE html> <html> <head> <meta charset=utf-8> <meta name=viewport content="maximum-scale=1,minimum-scale=1,user-scalable=0,width=device-width,initial-scale=1"/> <meta name=format-detection content="telephone=no,email=no,date=no,aItemress=no"> <title></title> <link rel=stylesheet type=text/css href=../../css/api.css /> <link rel=stylesheet type=text/css href=../../css/aui.css /> <link rel=stylesheet type=text/css href=../../css/aui-skin.css /> <link rel=stylesheet type=text/css href=../../css/tea.css /> <style type=text/css>.aui-tab{height:2.025rem!important;line-height:2.025rem!important}.aui-tab-item{height:2rem!important;line-height:2rem!important}</style> </head> <body> <div id=app> <header id=header> <section id=title class="aui-bar aui-bar-nav aui-bar-light tea-text-title" @click=toggleFrame()> <a class="aui-btn aui-pull-left" tapmode onclick=closeWin()> <span class="aui-iconfont aui-icon-left tea-text-title"></span> </a> <div class=aui-title v-cloak> <span :class="[mask ? 'tea-text-triangle-up' : 'tea-text-triangle-down']">{{title[orderType]}}</span> </div> </section> <section class="aui-tab aui-border-b"> <div v-cloak v-for="(item, index) in statusList" class="aui-tab-item tea-text-default" :class="{ 'aui-active' : index == statusIndex }" @click=setStatusIndex(index)>{{item}}</div> </section> </header> <section id=main></section> <footer id=footer></footer> </div> <script type="text/javascript" src="../../html/order_new/my_order_win.js"></script></body> <script src=../../script/api.js></script> <script src=../../script/fastclick.min.js></script> <script src=../../script/conn.js></script> <script src=../../script/vue.min.js></script> <script src=../../script/tea.js></script> <script type=text/template id=template></script> <script>function init(){vm=new Vue({el:"#app",data:{mask:!1,orderType:0,title:["我的订单","找代办","汽车保险","网约审车","VIP订单","手机充值"],statusIndex:0,statusList:["全部","已完成","未完成"]},methods:{toggleFrame:function(){vm.mask?(api.setFrameAttr({name:"order_type",hidden:!0}),vm.mask=!1):(vm.mask=!0,api.openFrame({name:"order_type",url:"./order_type.html",rect:{x:0,y:titleH,w:"auto",h:api.winHeight-titleH},pageParam:{name:"test"},bounces:!1,bgColor:"rgba(0,0,0,0.6)",vScrollBarEnabled:!0,hScrollBarEnabled:!0}))},setStatusIndex:function(e){vm.statusIndex=e,api.sendEvent({name:"setStatusIndex",extra:{index:e}})}},watch:{}}),initModule(),initEventListener()}function initModule(){}function initEventListener(){api.addEventListener({name:"setOrderType"},function(e,t){vm.orderType=e.value.index,vm.statusIndex=0}),api.addEventListener({name:"setOrderMaskOut"},function(e,t){vm.mask=!1})}function closeWin(){api.closeWin()}function openFrame(){var e=api.winName.replace("_win","");api.openFrame({name:e,url:"./"+e+".html",rect:{x:1,y:headerH,w:"auto",h:api.winHeight-headerH-footerH-1},pageParam:api.pageParam,bounces:!1})}var header,footer,title,vm=null,headerH,footerH;apiready=function(){header=$api.byId("header"),$api.fixStatusBar(header),headerH=$api.offset(header).h,footer=$api.byId("footer"),footerH=$api.offset(footer).h,title=$api.byId("title"),titleH=$api.offset(title).h+$api.offset(title).t,init(),openFrame()}</script> </html>