<!DOCTYPE html> <html> <head> <meta charset=utf-8> <meta name=viewport content="maximum-scale=1,minimum-scale=1,user-scalable=0,width=device-width,initial-scale=1"/> <meta name=format-detection content="telephone=no,email=no,date=no,aItemress=no"> <title></title> <link rel=stylesheet type=text/css href=../../css/api.css /> <link rel=stylesheet type=text/css href=../../css/aui.css /> <link rel=stylesheet type=text/css href=../../css/aui-skin.css /> <link rel=stylesheet type=text/css href=../../css/tea.css /> <style type=text/css>.flexcenter{-webkit-align-items:center!important;align-items:center!important}.aui-list{background-color:transparent}.widthAuto{width:auto!important;padding:0!important}.warpPadding{width:auto!important;padding:0 .75rem!important}ul li{background-image:none!important}</style> </head> <body> <div id=app v-cloak> <ul v-if=list.length class="aui-list aui-media-list aui-list-noborder"> <li v-for="(value,index) in list" class="aui-list-item aui-padded-0 aui-margin-b-5"> <div class=aui-media-list-item-inner tapmode @click=checked(value,index)> <div class="aui-list-item-media flexcenter warpPadding"> <span class=aui-radio :class="on == value.addrid ? 'aui-checked' : '' " style=width:1rem;height:1rem></span> </div> <div class="aui-list-item-inner aui-padded-t-15 aui-padded-b-15 aui-padded-r-0"> <div class="aui-list-item-text aui-margin-b-5"> <div class="aui-list-item-title tea-text-title" :class="on == value.addrid ? 'tea-text-blue tea-font-weight-bold' : '' ">{{ value.name }} {{ value.tel.replace(/^(\d{3})(\d{4})(\d{4})$/, "$1 $2 $3") }}</div> </div> <div class=aui-list-item-text> <div class="aui-list-item-title aui-font-size-16 tea-text-title">{{ value.region +' '+value.detail }}</div> </div> </div> <div class="aui-list-item-media flexcenter aui-margin-r-15 widthAuto" tapmode @click.stop=editor(value)> <span class="aui-iconfont tea-icon-editor aui-font-size-16"></span> </div> </div> </li> </ul> <div v-else>暂无常用地址，快去添加地址吧~</div> </div> </body> <script src=../../script/api.js></script> <script src=../../script/conn.js></script> <script src=../../script/fastclick.min.js></script> <script src=../../script/vue.min.js></script> <script src=../../script/tea.js></script> <script type=text/template id=template> </script> <script>function init(){dom={},vm=new Vue({el:"#app",data:{list:[],on:api.pageParam.addrid?api.pageParam.addrid:0},methods:{checked:function(a){vm.on=a.addrid,checkOn(a)},editor:function(a){api.openWin({name:"address_add_win",url:"./address_add_win.html",pageParam:{value:a,origin:api.pageParam.origin}})}},computed:{}}),getData(),initModule(),initEventListener()}function initModule(){}function initEventListener(){}function getData(){tea.showp("数据加载中..."),api.ajax({url:website+"exempt_api.php?action=addrlist",method:"post",timeout:30,data:{values:{ID:$api.getStorage("ID")}}},function(a,i){return api.hideProgress(),!!a&&("1"==a.succ?(vm.list=a.data,!0):void api.toast({msg:a.msg,duration:2e3,location:"middle"}))})}function checkOn(a,i){api.sendEvent({name:"selectAddress",extra:{address:a}}),api.closeWin()}var dom={},vm=null;apiready=function(){init()}</script> </html>