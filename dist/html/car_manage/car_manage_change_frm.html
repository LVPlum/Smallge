<!DOCTYPE html> <html> <head> <meta charset=utf-8> <meta name=viewport content="maximum-scale=1,minimum-scale=1,user-scalable=0,width=device-width,initial-scale=1"/> <meta name=format-detection content="telephone=no,email=no,date=no,aItemress=no"> <title></title> <link rel=stylesheet type=text/css href=../../css/api.css /> <link rel=stylesheet type=text/css href=../../css/aui.css /> <link rel=stylesheet type=text/css href=../../css/aui-skin.css /> <link rel=stylesheet type=text/css href=../../css/tea.css /> <style type=text/css>body,html{height:100%;overflow:auto}.aui-content-padded{-moz-box-shadow:0 .1rem .5rem #d8e0e7;-webkit-box-shadow:0 .1rem .5rem #d8e0e7;box-shadow:0 .1rem .5rem #d8e0e7}.tea-clear-btn{right:.75rem}</style> </head> <body> <div class=aui-content-padded id=content> </div> </body> <script src=../../script/api.js></script> <script src=../../script/aui-toast.js></script> <script src=../../script/tea.js></script> <script src=../../script/conn.js></script> <script src=../../script/doT.min.js></script> <script type=text/template id=template> <ul class="aui-list aui-list-in aui-form-list aui-list-noborder">
        <li class="aui-list-item">
            <div class="aui-list-item-inner">
                {{?it.item == 'carnum'}}
                <div class="aui-list-item-label" tapmode onclick="openWinPlateProvince()" style="width: 4rem">
                    <span id="plate-province" class="tea-text-title tea-text-arrow-down">桂E</span>
                </div>
                {{?}}
                <div class="aui-list-item-input">
                    {{?it.item == 'carnum'}}
                    <input id="carnum" type="text" placeholder="请输入车牌后5位数" value="{{=(it.val=='未填写' ? '' : it.val.slice(2) )}}" required />
                    <div class="tea-clear-btn" onclick="tea.clear('carnum');">
                        <i class="aui-iconfont aui-icon-close"></i>
                    </div>
                    {{?}}
                    {{?it.item == 'telphone'}}
                    <input id="telphone" type="tel" placeholder="请输入新的手机号码" value="{{=(it.val=='未填写' ? '' : it.val )}}" required />
                    <div class="tea-clear-btn" onclick="tea.clear('telphone');">
                        <i class="aui-iconfont aui-icon-close"></i>
                    </div>
                    {{?}}
                    {{?it.item == 'carlicense'}}
                    <input id="carlicense" type="text" placeholder="请输入行驶证所有人" value="{{=(it.val=='未填写' ? '' : it.val )}}" required />
                    <div class="tea-clear-btn" onclick="tea.clear('carlicense');">
                        <i class="aui-iconfont aui-icon-close"></i>
                    </div>
                    {{?}}
                </div>
            </div>
        </li>
    </ul> </script> <script>function initVar(){data={},updateHTML(values={item:api.pageParam.item,val:api.pageParam.val}),dom={plateProvince:$api.byId("plate-province")}}function initModule(){}function initEventListener(){api.addEventListener({name:"selectPlateProvince"},function(e,a){e&&(dom.plateProvince.textContent=e.value.province+e.value.city)})}function getData(){}function updateHTML(e){tea.doT(e,"template","content")}function openWinPlateProvince(){api.openWin({name:"plateProvince",url:"../car_plate/plate_province_win.html",pageParam:{name:"test"}})}function save(){var e=values.item,a=$api.byId(e),t=$api.val(a);return""==t?(tea.toast("fail","内容不可为空"),!1):"telphone"!=e||tea.checkPhone(t)?("carnum"==e&&(t=dom.plateProvince.textContent+t),api.sendEvent({name:"carManageChangeSave",extra:{item:e,val:t}}),void api.closeWin()):(tea.toast("fail","手机号码格式有误"),!1)}var dom={},data={},values={};apiready=function(){initVar(),initModule(),initEventListener(),getData()}</script> </html>