<!DOCTYPE html> <html> <head> <meta charset=utf-8> <meta name=viewport content="maximum-scale=1,minimum-scale=1,user-scalable=0,width=device-width,initial-scale=1"/> <meta name=format-detection content="telephone=no,email=no,date=no,aItemress=no"> <title>title</title> <link rel=stylesheet type=text/css href=../../css/api.css /> <link rel=stylesheet type=text/css href=../../css/aui.css /> <link rel=stylesheet type=text/css href=../../css/aui-skin.css /> <link rel=stylesheet type=text/css href=../../css/tea.css /> <style type=text/css>body,html{width:100%;height:100%;overflow:auto}</style> </head> <body> <header id=header class="aui-bar aui-bar-nav aui-bar-light"> <a class="aui-btn aui-pull-left" tapmode onclick=closeWin()> <span class="aui-iconfont aui-icon-left tea-text-title"></span> </a> <div class="aui-title tea-text-title">订单详情</div> </header> <section id=main></section> <footer id=footer class="aui-bar aui-bar-tab aui-margin-t-15 aui-hide"> <div class="aui-bar-tab-item tea-border-t" tapmode style=width:auto> <span class="aui-font-size-12 tea-text-title">合计：</span> <span class="aui-font-size-12 tea-text-orange">¥</span> <span id=price class="aui-font-size-18 tea-text-orange"></span> <span id=detail class="aui-font-size-12 aui-text-default aui-margin-10 aui-hide" tapmode onclick=orderDetail()>明细 <i class="aui-iconfont aui-icon-down" style=top:-1px;font-size:10px></i> </span> </div> <div class="aui-bar-tab-item tea-bg-orange aui-text-white" tapmode onclick=pay() style=width:40%> <div class="search-input aui-font-size-16">立即支付</div> </div> </footer> </body> <script src=../../script/api.js></script> <script src=../../script/tea.js></script> <script src=../../script/conn.js></script> <script src=../../script/doT.min.js></script> <script type=text/template id=template></script> <script>function initDOM(){switch(api.pageParam.type){case"车辆保险":if("已完成"==api.pageParam.status)return;if(1!=api.pageParam.sh)return;break;case"特权卡":if("已完成"==api.pageParam.status)return;if(0!=api.pageParam.sh)return;break;default:return}if("车辆保险"==api.pageParam.type){var e=$api.byId("detail");$api.removeCls(e,"aui-hide")}$api.removeCls(footer,"aui-hide"),footerH=$api.offset(footer).h}function initVar(){}function initHTML(){}function initEventListener(){api.addEventListener({name:"updateFooter"},function(e,a){$api.byId("price").innerHTML=parseFloat(e.value.price)})}function initModule(){}function getData(){}function updateDOM(){}function updateVar(){}function updateHTML(){}function sendEvent(){}function closeWin(){api.closeWin()}function pay(){switch(api.pageParam.type){case"车辆保险":api.execScript({frameName:"order_detail_frm",script:"insurePay();"});break;case"特权卡":api.execScript({frameName:"order_detail_frm",script:"checkcarnum(openWinPayVIP)"})}}function orderDetail(){api.execScript({frameName:"order_detail_frm",script:"payDetail("+footerH+")"})}function openFrame(){api.openFrame({name:"order_detail_frm",url:"./order_detail_frm.html",rect:{x:0,y:headerH,w:"auto",h:api.winHeight-headerH-footerH},pageParam:{param:api.pageParam},bgColor:"#f2f5f8",bounces:!1})}apiready=function(){header=$api.byId("header"),$api.fixStatusBar(header),headerH=$api.offset(header).h,footer=$api.byId("footer"),footerH=$api.offset(footer).h,initDOM(),initVar(),initHTML(),initEventListener(),initModule(),openFrame(),getData()};var header,footer,headerH,footerH</script> </html>