<!DOCTYPE html> <html> <head> <meta charset=utf-8> <meta name=viewport content="maximum-scale=1,minimum-scale=1,user-scalable=0,width=device-width,initial-scale=1"/> <meta name=format-detection content="telephone=no,email=no,date=no,aItemress=no"> <title>title</title> <link rel=stylesheet type=text/css href=../../css/api.css /> <link rel=stylesheet type=text/css href=../../css/aui.css /> <link rel=stylesheet type=text/css href=../../css/aui-skin.css /> <link rel=stylesheet type=text/css href=../../css/tea.css /> <style type=text/css>body,html{height:100%;overflow:auto;background:0 0;text-align:center}section{position:absolute;overflow:scroll;top:50%;left:50%;margin-top:-8.05rem;margin-left:-7.5rem;width:15rem;height:16.1rem;background-color:#fff}.aui-list-item,footer,header{height:2.6rem;line-height:2.6rem}.aui-list-item-label{width:45%!important}</style> </head> <body tapmode ontouchend='tea.closeFrame(event,"section")'> <section id=section class="tea-content-radius-10 aui-padded-l-15 aui-padded-r-15"> <header id=header class="aui-bar aui-bar-nav aui-bar-light"> <div class=tea-text-title style=width:100%>手动输入</div> </header> <ul class="aui-list aui-form-list"> <li class=aui-list-item> <div class=aui-list-item-inner> <div class=aui-list-item-label> 车架号 </div> <div class=aui-list-item-input> <input id=license-num type=text placeholder=请输入车辆识别代号 tapmode oninput=input(0)> </div> </div> </li> <li class=aui-list-item> <div class=aui-list-item-inner> <div class=aui-list-item-label> 姓名 </div> <div class=aui-list-item-input> <input id=real-name type=text placeholder=请输入本人姓名 tapmode oninput=input(1)> </div> </div> </li> <li class=aui-list-item> <div class=aui-list-item-inner> <div class=aui-list-item-label> 身份证号 </div> <div class=aui-list-item-input> <input id=id-num type=text placeholder=请输入18位身份证号 tapmode oninput=input(2)> </div> </div> </li> <li class=aui-list-item> <div class=aui-list-item-inner> <div class=aui-list-item-label> 手机号码 </div> <div class=aui-list-item-input> <input id=telphone type=tel placeholder=请输入手机号码 tapmode oninput=input(3)> </div> </div> </li> </ul> <footer id=footer> <div class=aui-content> <ul class="aui-list aui-list-noborder aui-form-list"> <li class="aui-list-item aui-row aui-padded-r-15"> <div class="aui-col-xs-6 aui-border-r" tapmode onclick=hideFrame()> 取消 </div> <div class="aui-col-xs-6 tea-text-blue" tapmode onclick=openWinInsurePrice()> 下一步 </div> </li> </ul> </div> </footer> </section> </body> <script src=../../script/api.js></script> <script src=../../script/tea.js></script> <script src=../../script/conn.js></script> <script src=../../script/doT.min.js></script> <script type=text/template id=template></script> <script>function initDOM(){dom.inputs=$api.domAll("input")}function initVar(){values=api.pageParam.values;for(var e=0;e<dom.inputs.length;e++){var a=$api.attr(dom.inputs[e],"id").replace(/-(\w)/g,upper);values[a]=""}void 0!==$api.getStorage("telphone")&&(values.telphone=$api.getStorage("telphone")),order=api.pageParam.order,"undefined"!=typeof order&&updateVar()}function initHTML(){$api.val(dom.inputs[0],values.licenseNum),$api.val(dom.inputs[1],values.realName),$api.val(dom.inputs[2],values.idNum),$api.val(dom.inputs[3],values.telphone)}function initEventListener(){}function initModule(){}function getData(){}function updateDOM(){}function updateVar(){values.licenseNum=order.cjh,values.realName=order.xm,values.idNum=order.sfz,values.telphone=order.telphone}function updateHTML(){}function sendEvent(){}function hideFrame(){api.setFrameAttr({hidden:!0})}function openWinInsurePrice(){check()&&api.openWin({name:"insure_price_win",url:"./insure_price_win.html",pageParam:{values:values,order:order}})}function input(e){var a=dom.inputs[e],i=$api.val(a),n=$api.attr(a,"id").replace(/-(\w)/g,upper);values[n]=i}function upper(e,a,i,n){return console.log("匹配的完整文本："+e),console.log("匹配的捕获："+a),console.log("索引："+i),console.log("源字符串："+n),a.toUpperCase()}function check(){return""===values.lisenceNum?(api.toast({msg:"请输入格式正确的车辆识别代码~",duration:2e3,location:"middle"}),!1):""===values.realName?(api.toast({msg:"请输入本人真实姓名~",duration:2e3,location:"middle"}),!1):tea.checkIdNum(values.idNum)?(values.telphone=tea.toNum(values.telphone),!!tea.checkPhone(values.telphone)||(api.toast({msg:"请输入格式正确的11位手机号码~",duration:2e3,location:"middle"}),!1)):(api.toast({msg:"请输入格式正确的身份证号码~",duration:2e3,location:"middle"}),!1)}apiready=function(){initDOM(),initVar(),initHTML(),initEventListener(),initModule(),getData()};var dom={},data={},values={}</script> </html>