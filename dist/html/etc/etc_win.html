<!DOCTYPE html> <html> <head> <meta charset=utf-8> <meta name=viewport content="maximum-scale=1,minimum-scale=1,user-scalable=0,width=device-width,initial-scale=1"/> <meta name=format-detection content="telephone=no,email=no,date=no,aItemress=no"> <title></title> <link rel=stylesheet type=text/css href=../../css/api.css /> <link rel=stylesheet type=text/css href=../../css/aui.css /> <link rel=stylesheet type=text/css href=../../css/aui-skin.css /> <link rel=stylesheet type=text/css href=../../css/tea.css /> <style type=text/css>body,html{width:100%;height:100%;overflow:auto;background-color:#fff}.tea-text-arrow-up{position:relative;display:inline-block;padding-right:1rem!important}.tea-text-arrow-up:after{content:'';width:.4rem;height:.4rem;position:absolute;top:50%;right:.2rem;margin-top:-.1rem;background:0 0;border:1px solid #999;border-bottom:none;border-left:none;z-index:2;-webkit-border-radius:0;border-radius:0;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}</style> </head> <body> <header id=header class="aui-bar aui-bar-nav aui-bar-light"> <a class="aui-btn aui-pull-left" tapmode onclick=closeWin()> <span class="aui-iconfont aui-icon-left tea-text-title"></span> </a> <div class="aui-title tea-text-title">ETC服务</div> </header> <section id=main></section> <footer id=footer class="aui-bar aui-bar-tab"> <div class="aui-bar-tab-item tea-border-t" tapmode @click=openWinFee style=width:auto> <span class="tea-text-orange tea-font-weight-bold aui-font-size-16 aui-ellipsis-1" v-cloak>¥{{ tea.formatMoney(money) }}</span> <span v-show=!is :class="frm ? 'tea-text-arrow-up' : 'tea-text-arrow-down' " class=aui-font-size-12>明细</span> </div> <div :class="is ? 'tea-bg-light-gray' : 'tea-bg-blue' " class="aui-bar-tab-item aui-text-white" tapmode @click=pay style=width:50%> <div class="search-input tea-font-weight-bold aui-font-size-16">去支付</div> </div> </footer> </body> <script src=../../script/api.js></script> <script src=../../script/conn.js></script> <script src=../../script/vue.min.js></script> <script src=../../script/fastclick.min.js></script> <script src=../../script/tea.js></script> <script type=text/template id=template></script> <script>function init(){dom={},vm=new Vue({el:"footer",data:{is:!1,money:0,frm:!1,fee:{ETCFee:350,installFee:0,VIPFee:150}},methods:{pay:function(){api.execScript({frameName:"etc_frm",script:"postData("+vm.money+")"})},openWinFee:function(){if(vm.frm)return vm.frm=!1,api.closeFrame({name:"etc_fee_frm"}),!1;api.openFrame({name:"etc_fee_frm",url:"./etc_fee_frm.html",rect:{x:0,y:0,w:"auto",h:api.winHeight-footerH},pageParam:vm.fee,bounces:!1,bgColor:"rgba(0,0,0,0.6)",vScrollBarEnabled:!0,hScrollBarEnabled:!0}),vm.frm=!0}}}),initModule(),initEventListener()}function initModule(){}function initEventListener(){api.addEventListener({name:"formReady"},function(e,a){vm.is=e.value.ready})}function getData(){}function closeWin(){api.closeWin()}function openFrame(){var e=api.winName.replace("win","frm");api.openFrame({name:e,url:"./"+e+".html",rect:{x:0,y:headerH,w:"auto",h:api.winHeight-headerH-footerH},pageParam:api.pageParam,bounces:!1})}var header,footer,dom={},vm=null,headerH,footerH;apiready=function(){header=$api.byId("header"),$api.fixStatusBar(header),headerH=$api.offset(header).h,footer=$api.byId("footer"),footerH=$api.offset(footer).h,init(),openFrame()}</script> </html> 